# Fatan โ Local AI Assistant (MVP)
> Updated: 2025-09-19

**Fatan** ูู ูุณุงุนุฏ ุฐูู **ูุญูู ุจุงููุงูู** ููููุธููู. ูููุฑ ุดุงุช ูุฏุนูู ุจูููุฐุฌ ูุบูู ูุญูู (Ollama) ูุน **ุงุณุชุฑุฌุงุน ูุนุฑูู RAG** ูู ูุณุชูุฏุงุช ุงูุดุฑูุฉ ุงููุฎุฒููุฉ ูุญูููุงุ ุจุงูุฅุถุงูุฉ ุฅูู **ููุญุฉ ููุงู** ูุฅุฏุงุฑุฉ ุงูุฃุนูุงู ุงูููููุฉ. ูุง ูุญุชุงุฌ ูุงุชุตุงู ุฅูุชุฑูุช ูุง ูู ุชุฎุชูุฑ ุชูุนูู ุงูุจุญุซ ุนูู ุงูููุจ.

---

## โจ ุงููุฒุงูุง ุงูุฑุฆูุณูุฉ
- **ุชุดุบูู ูุญูู 100%**: LLM ุนุจุฑ **Ollama** + **ChromaDB** ููููุฑุณุฉุ ุฏูู ุฅุฑุณุงู ุจูุงูุงุช ููุฎุงุฑุฌ.
- **RAG ูู ูุณุชูุฏุงุชู**: ุถุน ูููุงุชู ูู `docs/` ุซู ุดุบูู `analyzer.py` ูุจูุงุก ููุฑุณ **Chroma**.
- **ุดุงุช ููููุธููู**: ูุงุฌูุฉ ุจุณูุทุฉ ุนุจุฑ Flask (ูุณุงุฑ `/chat`) ูุน ุญูุธ ุชุงุฑูุฎ ุงููุญุงุฏุซุงุช ุงุฎุชูุงุฑููุง.
- **ููุงู ูุฎุทูุงุช**: ูุงุฌูุฉ ููุงู (`tasks_app.py`) ูุน ุญุงูุงุช (ุฌุฏูุฏุฉ/ููุฏ ุงูุชูููุฐ/ููุชููุฉ) ูุชุญุฏูุซ ููุฑู.
- **ุชุญููู ุงุฌุชูุงุนุงุช (ุงุฎุชูุงุฑู)**: ุชูููุฏ ุชูุงุฑูุฑ ูุตูุฉ ูู `generated_meeting_reports/`.
- **ุจุญุซ ููุจ ุงุฎุชูุงุฑู**: ุนุจุฑ Tavily ุนูุฏ ุนุฏู ุชููุฑ ูุนุฑูุฉ ูุญููุฉ (ูุชุทูุจ ููุชุงุญ API).

---

## ๐ฆ ูููู ุงููุดุฑูุน
- app.py โ ูุงุฌูุฉ ุงูุดุงุช (Flask) ุนูู ุงููููุฐ 5000
- tasks_app.py โ ูุงุฌูุฉ ุงูููุงู (Flask) ุนูู ุงููููุฐ 8000
- analyzer.py โ ุจูุงุก ููุฑุณ ูุญูู (ChromaDB) ูู ูุฌูุฏ docs/
- agent.py โ ุงุณุชุฎุฑุงุฌ ููุงู ูู ูุญุงุถุฑ ุงูุงุฌุชูุงุนุงุช ูุญูุธูุง ูู tasks.json (ุงุฎุชูุงุฑู)
- recoder.py โ ุตูุญุฉ ุชุณุฌูู/ุชูููุฏ ุชูุงุฑูุฑ ุงุฌุชูุงุนุงุช (ุงุฎุชูุงุฑู)
- templates/ โ ูููุงุช HTML (index.html, tasks_index.html, meetings_analyzer.html)
- static/ โ ุดุนุงุฑ ูุตูุฑ ุซุงุจุชุฉ
- docs/ โ ูููุงุช ุงููุณุชูุฏุงุช ุงูุชู ุชูููุฑุณ ูุญูููุง
- db_store/ โ ูุงุนุฏุฉ ุจูุงูุงุช Chroma (ุชููุดุฃ ุจุนุฏ ุชุดุบูู analyzer.py)
- generated_meeting_reports/ โ ุชูุงุฑูุฑ ุงูุงุฌุชูุงุนุงุช (txt)
- tasks.json โ ูุตุฏุฑ ุจูุงูุงุช ุงูููุงู (active/completed)
- conversation_history.json โ ุณุฌู ูุญุงุฏุซุงุช ุงูุดุงุช (ุงุฎุชูุงุฑู)

---

## ๐งฐ ุงููุชุทูุจุงุช (Requirements)

### ุงููุธุงู ูุงูุฃุฏูุงุช
- **Python 3.10+** (ูููุถููู 3.11 ุฃู 3.12)
- **Ollama** ููุซุจูุช ููุนูู ูุญูููุง
  - ุชูุฒูู ุงููููุฐุฌ ุงููุณุชุฎุฏู ูู ุงูุดุงุช:  
    ```bash
    ollama pull llama3.2:3b-instruct-fp16
    ```
- (ุงุฎุชูุงุฑู) ุชูููู ุงูุจุญุซ ุนูู ุงูููุจ ุนุจุฑ **Tavily** ุจูุถุน ุงููุชุบูุฑ:
  - **Linux/macOS**:
    ```bash
    export TAVILY_API_KEY=YOUR_KEY
    ```
  - **Windows (PowerShell)**:
    ```powershell
    setx TAVILY_API_KEY "YOUR_KEY"
    ```

### ุจุงูุซูู (ููุชุจุงุช)
ุงูุธุฑ ููู `requirements.txt` ุงููุฑููุ ุฃู ุซุจูุช ูุจุงุดุฑุฉ:
```bash
pip install -U pip setuptools wheel
pip install -r requirements.txt
```

**ุงูููุชุจุงุช ุงูุฃุณุงุณูุฉ** (ููุฎูุต):
- `flask` โ ุงููุงุฌูุงุช
- `langchain`, `langchain-community`, `langchain-core` โ ุงูุณูุณูุฉ ุงูููุทููุฉ
- `langchain-ollama` โ ุงูุชูุงูู ูุน Ollama (LLM ูุญูู)
- `langchain-nomic` + `nomic` + `onnxruntime` โ **ุชุถูููุงุช Nomic** ูุญูููุง
- `chromadb` โ ูุฎุฒู ุงููุชุฌูุงุช (ูุญูู)
- `tiktoken` โ ุชุฑููุฒ ุงููุตูุต

> **ููุงุญุธุฉ**: ุฅุฐุง ูุงุฌูุช ูุดููุฉ ูู **NomicEmbeddings**ุ ุชุฃููุฏ ูู ุชุซุจูุช `onnxruntime` ููู ุฃู ุฎูุงุฑ `inference_mode="local"` ูุฏุนูู ูู ุจูุฆุชู. ุจุฏูููุงุ ููููู ุชุจุฏูู ุงูุชุถูููุงุช ุฅูู `OllamaEmbeddings` ูู `langchain_ollama` ุฅู ุฑุบุจุช.

---

## ๐ ุงูุชุดุบูู ุงููุญูู (ุจุฏูู ุฅูุชุฑูุช)

1) **ุชุซุจูุช ุงููุชุทูุจุงุช** (ุฃูู ูุฑุฉ ููุท):  
```bash
python -m venv .venv
source .venv/bin/activate  # ุฃู: .venv\Scripts\Activate.ps1 ุนูู ูููุฏูุฒ
pip install -r requirements.txt
```

2) **ุชุดุบูู Ollama** ูุณุญุจ ุงููููุฐุฌ:
```bash
ollama serve  # ุฅู ูู ูุนูู ุชููุงุฆููุง
ollama pull llama3.2:3b-instruct-fp16
```

3) **ุฅุถุงูุฉ ุงููุณุชูุฏุงุช** ุฅูู `docs/` ุซู ุจูุงุก ุงูููุฑุณ:
```bash
python analyzer.py
# ุณูููุดุฆ/ูุญุฏูุซ ูุฌูุฏ db_store/ (ChromaDB)
```

4) **ุชุดุบูู ูุงุฌูุฉ ุงูุดุงุช** (ูููุฐ 5000):
```bash
python app.py
# ุงูุชุญ ุงููุชุตูุญ ุนูู: http://localhost:5000
```

5) **ุชุดุบูู ูุงุฌูุฉ ุงูููุงู** (ูููุฐ 8000):
```bash
python tasks_app.py
# ุงูุชุญ: http://localhost:8000
```
> ููู `tasks.json` ูู ูุตุฏุฑ ุงูุจูุงูุงุช. ูุถู ููุงุฆู `active` ู`completed`. ูู ูููุฉ ุชุญุชูู `title` ู`steps` (ููู ุฎุทูุฉ `description` ู`done`).

6) (ุงุฎุชูุงุฑู) **ุชุญููู ุงูุงุฌุชูุงุนุงุช/ุงูุชุณุฌูู**:
- `recoder.py` ููููุฏ ุชูุงุฑูุฑ ูุตููุฉ ูู `generated_meeting_reports/`.
- `agent.py` ูุญุงูู ุงุณุชุฎุฑุงุฌ ููุงู ูู ูุตูุต ุงูุงุฌุชูุงุนุงุช ูุฅุถุงูุชูุง ุฅูู `tasks.json`.

---

## ๐ ููุงุท ุงูู API (ูุฎุชุตุฑ)
- **POST** `/chat` โ ุฌุณุฏ ุงูุทูุจ: `{ "message": "..." }` โ ุงูุฑุฏ: `{ "answer": "..." }`
- **GET** `/api/tasks` โ ูุนูุฏ ุจููุฉ ุงูููุงู (active/completed)
- **POST** `/api/complete_step` โ ุฌุณู ุงูุทูุจ: `{ "task_index": 0, "step_index": 2 }`

> ุงููุณุงุฑุงุช ุชููุฏููู ูู ุชุทุจููุงุช Flask: `app.py` (ุงูุดุงุช) ู`tasks_app.py` (ุงูููุงู).

---

## ๐งช ุงุฎุชุจุงุฑ ุณุฑูุน
- ุถุน ููููุง ุชุฌุฑูุจููุง (txt/pdf/docx) ุฏุงุฎู `docs/` (ููุงุฐุฌ ูุฑููุฉ ุจุงููุนู).
- ุดุบูู `python analyzer.py` ุซู ุงูุชุญ ุงูุดุงุช ูุงุณุฃู ุนู ูุญุชูู ุงููุณุชูุฏ.
- ุฌุฑูุจ ูุงุฌูุฉ ุงูููุงู: ูุถุน ุนูุงูุฉ ยซุชูยป ุนูู ุฎุทูุฉุ ูุชุฃูุฏ ูู ุงูุชูุงู ุงููููุฉ ููุงุฆูุฉ ุงูููุชููุฉ ุนูุฏ ุฅููุงุก ุฌููุน ุฎุทูุงุชูุง.

---

## ๐๏ธ ูุดุงูู ุดุงุฆุนุฉ (Troubleshooting)
- **Model not found**: ูููุฐ `ollama pull llama3.2:3b-instruct-fp16` ูุชุฃูุฏ ุฃู `ollama serve` ูุนูู.
- **ImportError: langchain_*:** ุญุฏูุซ `pip` ูุซุจูุช ุงูุญุฒู ุงููุฐููุฑุฉ ูู `requirements.txt`.
- **NomicEmbeddings (local) fails**: ุซุจูุช `onnxruntime` ุฃู ุจุฏูู ุฅูู ุชุถูููุงุช ุฃุฎุฑู (ูุซุงู: `OllamaEmbeddings`).
- **ChromaDB lock**: ุฅุฐุง ุชุนุฐูุฑ ุงููุตูู ููุงุนุฏุฉ `db_store/`ุ ุฃุบูู ุงูุนูููุงุช ุงูุณุงุจูุฉ ุฃู ุงุญุฐู ุงููุฌูุฏ ูุฃุนุฏ ุจูุงุกู ุจู `analyzer.py`.
- **ุจุฏูู ุฅูุชุฑูุช**: ุงุชุฑู `TAVILY_API_KEY` ุบูุฑ ูุฎุตุตุ ุณูุนุชูุฏ ุงูุดุงุช ุนูู ุงูููุฑุณ ุงููุญูู ููุท.

---

## ๐งฉ ุงููููููุงุช ุงูุฑุฆูุณูุฉ (ูุธุฑุฉ ุชูููุฉ)
- **LLM**: ChatOllama (ูููุฐุฌ: `llama3.2:3b-instruct-fp16`)
- **Embeddings**: Nomic (`nomic-embed-text-v1.5`, ูุถุน ูุญูู)
- **Vector DB**: Chroma (ูุฌูุฏ `db_store/`)
- **Orchestration**: LangChain (Router โ Retriever โ Graders โ Generator)
- **Frontend**: ููุงูุจ HTML ุจุณูุทุฉ + Fetch API
- **Backend**: Flask (ูููุฐ 5000 ู8000)

---

## ๐ ุงูุฑุฎุตุฉ ูุงูุงุณุชุฎุฏุงู
ูุฐุง **MVP ููุงุฎุชุจุงุฑุงุช ุงูุฏุงุฎููุฉ**. ุงูุจูุงูุงุช ุชุจูู ูุญูููุง. ูุง ููุตุญ ูููุดุฑ ุงูุนุงู ุจุฏูู ูุฑุงุฌุนุฉ ุฃูููุฉ.

---

## ๐ฌ๐ง English (Brief)
**Fatan** is a fully local employee assistant: Flask chat UI backed by **Ollama** + **ChromaDB** (RAG), and a tasks dashboard. Optional web search via **Tavily**.

**Quick start:**
1. `pip install -r requirements.txt`
2. `ollama pull llama3.2:3b-instruct-fp16`
3. Put docs in `docs/` โ `python analyzer.py`
4. `python app.py` (chat on http://localhost:5000)
5. `python tasks_app.py` (tasks on http://localhost:8000)

**Optional:** set `TAVILY_API_KEY` to enable web search.
